Hi everyone, welcome to this lecture on an introduction to operations research. And I am S Srinivas, a co-instructor at the IIT Madras online BSC degree program. You would have been familiar with different predictive and prescriptive analytics techniques, which will help you make predictions and then prescribe decisions based on the predictions you would have made. Is there another way or a better way at arriving at decisions, and that is where the field of operations research comes in. Operations research uses advanced analytics techniques, which helps you make decisions and not just decisions, but better and optimal decisions at that. The field of modern operations research dates back to the Second World War that is when the resources were scarcely available, and you needed to make optimal use of those resources. Of course, differential calculus had been used 200 or 300 years back to solve different problems in economics and mathematics. But the problems which arose in the Second World War require a different treatment. And therein came in the theory of linear programming, and George Dancing, at that time, developed the famous simplex method to solve such linear programming problems. So, how does a typical operations research or optimization problem look like? You would aim to maximize your revenue or profit subject to a set of constraints. It could very well be that you would also be trying to minimize your costs subject to a set of constraints; that is also another kind of optimization problem. So, there are different domains within operations research. One such as linear programming, where you have a linear objective function and a linear set of constraints. Let us say a firm wants to produce two products, A and B. And it has only a certain amount of resources available. In that case, the form can formulate it as a linear programming problem wherein xn, x1 is the number of units of product one to be produced, and x2 is the number of units of product 2 to be produced. And let 2 rupees be the profit generated from selling a unit of product 1 and 3 rupees be the profit generated from selling the unit of product 2. In that case, this is going to be the objective function which needs to be maximized. And these are the constraints corresponding to two resources, A and B. This is how a typical linear programming problem will look like. Note that the variables can take continuous values in this case. It could be 2.5, it could be 3, it could be 3.5, or 3.51, and so on. Since there are problems which require the variable to be an integer, there came in the area of integer programming, which constrained the variables x1 and x2 to be integers. Since these constraints exist, integer programming problems are much more difficult to solve than linear programming problems. But for all practical purposes, you can know that if you are solving a linear programming problem and you obtain integer solutions, then that is also going to be integer programming optimal. However, if you are obtaining continuous values, in this case, then you need to be careful on rounding off. You need to be extremely careful because rounding off may not generate an optimal integer programming solution. So, you need to be very careful about that. But in most instances, if you are able to solve a linear programming problem and generate integer solutions, that should work fine. And moving on, if you are moving into the area of nonlinear programming wherein the objective function or the constraints are no longer linear. You could have an objective function wherein the objective is to maximize 2x1 square plus 3x2. So, that is another different area of operations research, which requires a different treatment. And another assumption in linear programming is that these parameters or variables are deterministic. They could very well be the case that a level of uncertainty kicks in where if you are selling one unit of product A you generate 2 rupees profit. If you are selling 2 units, you generate 4 units of profit here. However, if it is going to be uncertain, you require something called stochastic programming to solve such problems, which is a completely different domain within operations research. And finally, what we are looking at here is solving the particular firm's problem or a single person's problem. There is a firm which aims to maximize its profit by selling two project products, A and B can be subject to two resources, A and B. However, if there exists a scenario where the firm is trying to maximize its profit, given that a competitor firm has decided to produce a certain number of products A and B in that case, it is no longer a decision, and it becomes a game-theoretic problem. Game theory is a subfield of economics, wherein different agents interact, and each agent tries to maximize his or her profit in relation to other agents. We are not going to look at that the focus of this lecture is going to be on a linear programming problem, where we have a linear objective function and linear set of constraints, the variables can take continuous values, and we have deterministic parameters and variables here, and we are going to focus on the decision and not or the game, I hope it is clear at this stage. So, we will now move on to an illustrative example of how do you model a business situation as a linear programming problem. Imagine you are running an automobile firm, which sells cars in three different segments, Hatchback, Sedan, and SUV, and they are priced at the following numbers respectively. Suppose that the manufacturing of these cars requires two resources, A and B, and you have 1,20,000 units of resource A and 1,40,000 units of resource B available and producing and Hatchback car requires 15 units of resource A and 20 units of resource B. Similarly, producing a Sedan car requires 20 units of resource A and 50 units of resource B, and SUV car requires 60 units of resource A and 100 units of resource B. So, the question in front of you is how many cars of each type should you produce in order to maximize the revenue. This problem can be formulated as a linear programming problem. So, how does it look like you need to first define the decision variables? The three decision variables are the number of cars to be produced x1 is the number of Hatchback cars to be produced, x2 is the number of Sedan cars to be produced, an xt is the number of SUV cars to be produced. And your objective function is to maximize the revenue from selling these three cars. You generate revenue of 5,00,000 rupees from selling Unhatched car 10,00,000 rupees from generating or selling is sedan car, and 25,00,000 from selling an SUV car. So, this is the revenue which you intend to maximize, and this is not hind here. What you need to look at is you have constraints on resources A and B. So, if you have constraints on resources, you have A resource constraint here that is to produce a Hatchback car you required 15 units of resource A, 20 units of resource A are required to produce a Sedan car, and 60 units of resource A are required to produce a SUV car. Therefore, to have the following constraint that is 15 x1 plus 20 x2 plus 60 x3 less than or equal to the resource A you have at hand that is 1,20,000. Similarly, resource B constraint will be 20 x1 plus 50 x2 plus 100 x3 less than or equal to 1,40,000. And since you cannot produce a negative amount of cars, you have the constraint that these three variables are non-negative. Now, you are done. You are formulated the linear programming, which looks like this. You are maximizing the revenue subject to a set of constraints, and you have the non-negativity constraint in here. This is how a linear program will look like. Now, let us let deep slightly. So, you have an automobile for, and you are the automobile firm here. Suppose there exists another buyer in the market. That buyer is coming to you and telling you that I will purchase those resources A and B from you directly. So what are you doing here? We are actually having resources A and B, and with those resources available, you are manufacturing and selling cars with the aim of maximizing your revenue. Now, this buyer comes to you and tells I will purchase those resources A and B from you; you need not manufacture and sell cars. I am coming to you and telling you to sell those resources to me. And the objective of that buyer is going to be to minimize the total cost of purchasing the resource. Because why would I pay you an infinite amount of money to purchase this resource? I need to be profitable as well. So therefore, this buyer aims to minimize the total cost. Now, what is the price he will offer to you, or what is the cost to the buyer of buying that resource? For that, we are looking at two variables y1 and y2. So, y1 is the cost of resource A to the buyer, and y2 is the cost of resource B to the buyer. So, you are having this problem at hand as an automobile firm; you are trying to maximize your profit subject to a set of constraints on resources. Now, this buyer is going to come to you and ask you to sell these resources A and resource B at rupees y1 per unit and rupees y2 per unit, respectively. And the buyer would try to minimize the cost of purchasing those resources. So, it will be 1,20,000 y1 plus 1,40,000 y2 corresponding to the resources available with you, and he is offering you a price of y1 and y2, respectively. So, this is the objective function, which the buyer will try to minimize. So, if the buyer tends to minimize this function and purchases from you, would you always be ready to give the resource away to the buyer? Maybe not. So if you are going to use those resources to manufacture cars and sell cars, what would happen? Let us take the Hatchback variety. By selling a Hatchback variety of the car, you obtain a revenue of 5,00,000 rupees. So, you are selling 1 Hatchback car. You are generating 5,00,000 rupees. Now, for producing a Hatchback car, it requires 15 units of resource A and 20 units of resource B. So, if you have 15 units of resource A and 20 units of resource B, you can very well manufacture and Hatchback car and sell it at 5,00,000 rupees. So, in order for the buyer to incentivize you to sell those resources to him or her, what the buyer needs to do is to set those prices y1 and y2 such that this is greater than the 5,00,000 rupees. If this 15 y1 plus 20 y2, 15 y1 plus 20 y2 was less than 5,00,000 rupees, you would very well manufacture and sell those Hatchback cars. In order for you to sell those resources to the buyer, this constraint needs to be satisfied. And similarly, you have constraints for the Sedan car and for the SUV car. This is how the buyer's problem would look like. And what you have done here is you have constructed a dual of the linear program. So, this is the linear program you had at hand, and this problem, a mirror problem, is called the dual. So, the original problem is called the primal, and the mirror problem is called the dual and interestingly relationship that exists between the two, if you are going to solve the primal and if you are going to solve the dual and you attain feasible solutions in both cases, then you have arrived at the optimal solution with the same objective function value. So, if you maximize this function or minimize this function and you obtain feasible solutions, that is going to be the optimal solution with the same value of the objective function that is what it provides. And the dual provides an interesting economic representation the dual variables y1 and y2 also represent the shadow price or the marginal price of the resource at the optimum. What is the value of resource A or what is the value of resource B? If you want to know that do well variables will let you know that the value of resource A is a certain rupee per unit. And the value of resource B is certain rupees per unit; that is the interesting economic interpretation it provides. If we had observed closely, there actually existed an interesting relationship between the primal and the dual. If the primal is going to be maximization, you can observe that the dual is a minimization problem. And the number of constraints in the primal is the number of decision variables in the dual and the number of decision variables in the primal is going to be a number of constraints in the dual you can easily observe this here. And another key point is the objective function coefficients here 5,00,000 10,00,000, and 25,00,000 in the primal are going to be the right-hand side of constraints in the dual. And the right-hand side of constraints in the primal is going to be the objective function coefficients in the dual. In a sense, if you are having a primal with a maximization objective with less than or equal to constraints with all variables being greater than or equal to 0, what you would generate is a dual with a minimization with greater than or equal to constraints and the variables being non-negative. This is how the relationship between the primal and the dual will look like. Can we move a step forward? We had looked at the construction of the dual from an economic perspective, but how would you mechanically construct a dual is what you are looking at now. You are given this primal problem with three decision variables maximization objectives and less than or equal to constraints. So, what is the first step in constructing a dual? What would you do? Corresponding to two constraints, there are two decision variables or two dual variables with the dual you have y1 and y2 as the dual variables corresponding to the two constraints. Once this step is done, you need to look at the objective function since it is a maximize here we are going to minimize in the dual. And after deciding on the objective, your objective function coefficients are on the right-hand side of the primal. So, 1,20,000 y1 plus 1,40,000 y2 is going to be your objective function, and you have a set of constraints corresponding to the three primal variables. So, corresponding to x1 if you look at the coefficients here to have 15 y1 plus 20 y2 greater than or equal to 5,00,000 and 20 y1 plus 50 y2 greater than or equal to 10,00,000 and 60 y1 plus 100 y2 greater than or equal to 25,00,000. So, these are the three dual constraints, and since the variables are non-negative here, you are also having non-negative variables in here. So, this is how you construct a primal and a dual. I hope you understand this. And now, you are coming back to the dual problem here. You hear slightly go back. So, this was a dual you had constructed for the primal. How does the dual look? The world looks like this, you have a minimization objective, and you have a set of constraints. Now, what we will do is, can we construct a dual of this dual. You have the dual problem at hand. You construct a dual of this dual. In order to do that, what should we do? We need to convert this into standard form by standard form. What I mean is you require an optimization objective, and you have to have less than or equal to constraints, and that is how you convert it into a standard form. So, the first step is to multiply this objective function by a negative sign. And that will become maximize off minus 1,20,000 y1 minus 1,40,000 y2. And similarly, you can multiply all these constraints by a negative. So, the greater than or equal to constraint will become less than or equal to constraints here, and on the left-hand side on the right-hand side, values become negative. So, you have minus 15 y1 minus 20 y2 less than or equal to minus 5,00,000. So, what have done is you have just multiplied by a negative sign, the objective function under constraints, and you have obtained the standard form with the maximization and less than or equal to constraint structure. So, you have obtained this standard form. Now, you need to find the dual of this standard form. So, what are the three variables coming in here corresponding to the three constraints x1 x2 and x3. You have the first objective as minus 5,00,000 x1 minus 10,00,000 x2 minus 25,00,000 x3. Now, x1 x2, and x3 are the variables defined corresponding to these three constraints here. Since the objective is to maximize, you are going to minimize here, and the constraints are the following. You have two variables in here y1 and y2. And there are going to be two constraints in this dual of the dual, then what you are doing is you are calculating the dual of the dual. So, what would be the first constraint? It would be minus 15 into x1, which is the variable corresponding to the first constraint, then minus 20 x2 minus 60 x3 greater than or equal to minus 1,20,000. Similarly, you can construct the constraint for the second variable in the duel. So, how does this look like it has a minimization objective and is greater than or equal to constraint? Now, what I am trying to do is I am trying to multiply this by a negative sign in order to have a positive values here. So, it will become a maximize here with 5,00,000 x1 plus 10,00,000 x2 plus 25,00,000 x3, and you are multiplying the constraints again by a negative sign in order to obtain less than or equal to constraints here. So, this is how the constraints will look like. Do you recall what this is? I will pause for a moment here, and you recall what this is? This happens to be the primal itself. So, the dual of the dual is primal. So, when you construct a dual, and you find a dual of the dual, you find that it is going to be the primal itself. Now, the next step is how do you implement this in a spreadsheet? Can you do this? Yes, of course, you can implement this in the spreadsheet. For that, the first step is to install the solver. So, I go to file here; you have options here. I have an option called add-ins. There is Excel add-ins in cyclic go. What you require is the Solver add-in. I click check this box, I click OK. And when I go to data, what I see is something called solver here. So, this is a solver which will help you solve the linear programming problem. So, going back to what was the objective function in the linear programming problem, the original linear programming problem, it was 5,00,000 x1 plus 10,00,000 x2 plus 25,00,000 x3 subject to the following constraints, two constraints on resources A and resource B. So, I have written it down here 5,00,000 10,00,000 and 25,00,000. In order to define the objective function, what you need to do is you need to do a sum product of these cells. So, these cells blank cells are, in a way, the way you will value, which you will find only when you implement the program in a solver. So, for now, you are creating the sum product of A1 to C1 comma A2 to C2, which will correspond to 5,00,000 x1 plus 10,00,000 x2 plus 25,00,000 x3 and the first constraint is 15 x1 plus 20 x2 plus 60 x3 less than or equal to 1, 20,000 that was the first constraint. So, in order to construct the left-hand side, what we have is that some product of A1 to C1 which corresponds to variables x1 x2 and x3 so, 15 x1 plus 20 x2 plus 60 x3 is calculated by the sum-product it is less than or equal to 1,20,000. And the second constraint is the sum product of A1 to C1 corresponding to the three variables and 20 50 100 corresponding to the constraint coefficient less than or equal to 1,40,000. Now, we have written it down here; the next step is to set up this problem. How do you set up this problem? Go to solver; where was the objective set? So, the objective was set here is E2. So, the objective is to maximize 5,00,000 x1 plus 10,00,000 x2 plus 25,00,000 x3 to select maximize here. So, what are the variable cells? This is a key cell, which you need to define. These are the three variable cells corresponding to the three variables, x1 x2 and x3. And the next step is to add constraints. What are these constraints? If I will delete this and help you add it. So, I click add, I created the sum-product in cells D4 and D5. So, this is going to be the left-hand side of the constraint to have a less than or equal to constraint here, and the right-hand side is going to be F4 and F5. Then click OK. And you have set up the constraints as well. And you need to check this box that unconstrained variables to be non-negative. And the method which you use to solve is a simplex LP simplex is a method developed by George dancing to solve a linear programming problem. You select simplex LP, click solve for what you have obtained is the following solution. And you can create a sensitivity report. I will come back to this and explain how this is significant. You click OK. And you have generated the solution to the linear programming problem. How does the linear programming problem look? The solution is to manufacture 0 number of Hatchback cars, the number of Sedan cars, and 1400 number of SUV cars. Because this is what the linear programming problem is telling you to do. And this is how the objective function looks like. This is the value of the objective function. And as you can see here, the left-hand side of the constraints has changed based on the values which x1 x2 and x3 had taken. So, this happens to be a new constraint because you have 84,000 you have a certain amount of resources left. But since this constraint has stuck its maximum of 1,40,000, you have not been able to produce more; otherwise, if this was greater, you would have been able to produce more. So, this is the solution to the primal or the original linear programming problem. Now, what we will do is we will quickly look at the sensitivity report. This is what the sensitivity report tells you, you have the objective function coefficient here. And this gives you the allowable increase and decrease. So how or in what rates will the solution hold? This word is told by this allowable increase and allowable decrease. And did you notice this value? You had said that the dual variable is also called the shadow price. So, the sensitivity report directly gives you the value of the dual variables. As you can see here, the value of the first resource is 0, and the value of the second resource happens to be 25,000. This is because resource A, sorry, resource B here, which is 1,40,000 has been completely used. Therefore, that resource is of that much value to you. If you had had more amount of resource B, you could have, in fact, produced more. But since you had a constrained amount of resources to have a value that resource that much more. But why is this value of resource A is 0? The value of resource A is 0 because you have produced that much so that the left-hand side of the first resource constraint is only 84,000. But the right-hand side happens to be 1,20,000. You have about 36,000 units of resource A left with you, then why would you purchase that resource at a certain amount? That resource is not that much value to you. To put it in a nutshell, If you are going to have a tight constraint, meaning the left-hand side becomes equal to the right-hand side, that resource is that much valuable. Instead, if it is not going to be a tight constraint, then that resource may not be that much value to you. That is what you observe with the shadow price here. Now, I am not very convinced with this. I need to solve the dual ad check whether this is indeed true. Whether the shadow price will be 0 and 25,000. I want to verify that. So, we have the dual here. So, what was the double? Dual was to minimize 1,20,000 y1 plus 1,40,000 y2 subject to three constraints. I have set up the dual here as follows, same as before. So, you have two variables at A1 and B1, the sum product of A1 B1 and A2 B2 is going to be objective, and you have a minimization objective here, and the constraints are 15 y1 plus 20 y2, which is some product of A1 D1 and A4 B4 greater than or equal to 5,00,000. Similarly, you can construct the constraints for the Sedan car and for the SUV car. Now, I go to solver you need to click solve. So, D2 is the objective here. The objective is to minimize. We need to choose minimize. The variable cells are A1 and B1. And the constraints let me add it again. So, you click add. Choose the left-hand side of the constraints, you have a greater than or equal to constraint here, and you have the right-hand side values of the constraint you click OK. Make unconstrained variables non-negative boxes checked to solve it by a simplex LP. I think the sensitivity report here as well. And this is what you get 0 rupees for resource A and 25,000 rupees per unit for resource B. This is what you have observed when observing the sensitivity report of the primal it was 0 and 25,000. And you observe another interesting thing, the objective function values of the primal and the dual are the same. So, the objective function of the primal and the dual is the same as you observe here. So, this is how you implement the linear program in a spreadsheet. Now, we will quickly look at how to implement this linear program in Python. So, in order to implement a linear program in Python, you need to first install a package called the pulp. I do a pip install pulp. This is done in Google collab. So, once we install this pulp, we can then solve the primal version of the problem you can see it is getting installed. The package pulp has been successfully installed. Now you import all past p, and you set up the primal problem as follows p dot lp problem, and you name the problem as primal, and the objective is to maximize. Therefore, you get maximize here you set up this objective and then you have three variables x1 x2 and x3 you define the variables as p dot lp variable with the lower bound being 0 all these three variables are constrained to be non-negative. Therefore, you set the lower bound to be equal to 0. Now, once we run the cell, we can then set up the objective function, which is said by defining this primal. So, the problem was defined as primal here that is what you name the model to be primal plus or equal to 5,00,000 x1 plus 10,00,000 x2 plus 25,00,000 x3 that will help you define the objective, and the constraints are defined in the following manner, you have 15 x1 plus 20 x2 plus 60 x3 less than or equal to 1,20,000. Similarly, you have the resource B constraint. You set it up in the following manner. And when you print the model, the model will look like this. How is the model looking like you have a maximization? You have 5,00,000 x1 plus 10,00,000 x2 plus 25,00,000 x3 subject to the two constraints, and the three variables are continuous variables because it is a linear program here. Now, in order for you to solve the problem, you need to do primal dots solve. Primal was the name of the model dot solve will help you solve the problem. And the solution is where you are storing the solution. And I click this, it stays that you have found the optimal solution. But how do you print those optimal solutions? In order to do that, you use dot value. So, print of P dot value x1 will give you the value of x1, P dot value of x2 will give you the value of x2, P dot value of x3 will give you the value of x3. And in order to find the objective function value, what you do is the P dot value of the model name primal dot objective. And you can verify that the solution is similar to what you observe in a spreadsheet. Now can you do the same with a dual as well? Of course, you can do that? Once again, load the package called pulp here. And when you are solved the dual, you need to set a minimization objective here. Therefore, and I define dual, what I have done is have set a minimization objective. So, we will run this. It is a minimize. You have two variables. Y1 and y2 are dual with lower bounds of 0. The objective function is defined first, then the three constraints corresponding to the dual are defined. You then print the dual. Your print, print the dual. This is how it looks an objective minimization subject to greater than or equal to constraints with two variables. You solve it very similarly to what you did last time. You should the dual dot solve. And here are the values of the dual variables you obtain very similar to what you observed in the spreadsheet. 0 is the value of variable y1, and 25,000 is the value of the variable y2. So, this is how you implement the linear program in spreadsheets and in solvers. So, we will quickly go back and check on what you can do if you have a slightly invalid constraint. So, you had created the dual for a minimization which is greater than or equal to if you have a slightly complex primal problem. How would you handle it? So, this was indeed the dual of the dual is primal. That is what you had looked at. Now, you are given the following primal a slightly involved, but how do you construct a dual in this case? So, what are the things to note here that require a maximization objective? And you require less than or equal to constraints, and you require all the variables to be greater than or equal to 0. So, the first step in converting this primal to a standard form is to define three new variables. Why do we define these three variables? These three variables are defined to be greater than or equal to 0. And we define x3, which is currently unrestricted to be equal to x4 minus x5, where x4 and x5 are both greater than or equal to 0. So, what will this achieve? Say your value x3 is unrestricted, so it could take either a negative value or a positive value if x3 is going to take minus 3, then you can define x4 and x5 such that x4 is going to be 2 and x5 is going to be 5 x4 and x5 are both greater than or equal to 0, but it will give you a negative value. On the other hand, if x3 is going to be plus3 then you can check x4 to be equal to plus 5 and x5 to be equal to 2, and 5 minus 2 will give you the 3 here. And that is how this new variable definition will handle this unrestricted sign. And the next thing is to observe less than or equal to a variable here, you can just multiply it by the negative side, and that will solve the purpose because x6 is defined to be positive and negative into positive will give you a negative value, and you can directly define for the less than or equal to variable in the following manner. So, you have now defined three new variables. Now, you need to substitute all these variables x4 minus x5 instead of x3 and x6 instead of minus x2. So, x6 is minus x2. So, what we have done here 500 x1 minus 100 x6 because of the negative sign and plus 200 x4 minus x5 you have 15 x1 minus 20 x6 because x6 is equal to minus x2 plus 60 into x4 minus x5. Similarly, you do it for the other constraint now you have the following variables x1 x4 x5 and x6. This is how you convert the dual to a standard form they have not done if it is converting it to a standard form, you need to convert the objective function to maximization greater than or equal to constraint to a lesser or equal to constraint. How do you do that? You multiply the objective function by a negative sign so that it becomes a maximization; you leave the second constraint as is, but the first constraint is currently greater than or equal to, so you multiply it by a negative sign. And therefore, it becomes a maximization problem subject to two constraints of the less than or equal to the time, and all variables in this formulation are non-negative. So, you have done until this point. Now, it becomes a straightforward exercise for you to convert this primal right into a dual. How do you do that? A maximization objective here becomes a minimization objective with the dual. You have minus 1200 y1 plus 1400 y2 subject to 4 constraints here minus 15 y1 plus 20 y2 greater than or equal to minus 500. Similarly, you have it corresponding to the other three variables, and this is how the dual will look like. This is how you construct the dual. The variables are said to be non-negative, I will quickly then jump into having a special case where you had an equal to constraint 2 x1 plus x2 is equal to 400. So, you need to convert this constraint to a less than or equal to type in order for him to solve further than how you will handle this. The way you can do this is to first write it as two constraints 2 x1 plus x2 is less than or equal to 400, and 2 x1 plus x2 is greater than or equal to 400. The next step is to convert these two into a less than or equal to the constraint. That is what you intend to do. How you will do that is to have 2 x1 plus x2 less than or equal to 400 as is, and the second constraint will become minus 2 x1 minus x2 less than or equal to minus 400. This is how you split a key quality constraint to a less than or equal to constraint in order for you to convert this into standard form and then solve the problem. This is how to convert the private to the dual. So, in summary, what we have looked at is how to construct a linear programming problem, how to interpret the dual of the linear programming problem, and how do you implement it in spreadsheets and Python? And finally, we will discuss an example where the primal could be slightly more involved than just a straightforward maximization with a less than or equal to constraint. So, in that case, how do you solve it is what we finally looked at. Thank you.